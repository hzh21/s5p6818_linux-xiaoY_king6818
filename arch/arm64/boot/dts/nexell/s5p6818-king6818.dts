/dts-v1/;
#include "s5p6818-king6818-common.dtsi"

/ {
	model = "Rongpin King6818 Board";
	compatible = "rongpin,king6818", "nexell,s5p6818";

	/* 修正：通过绝对路径找到引脚控制器并定义 I2C3 引脚 */
	&{/soc/pinctrl@c0010000} {
		i2c3_pins: i2c3-pins {
			nexell,pins = "gpioc-15", "gpioc-16";
			nexell,pin-function = <1>; /* FUNC1 对应 I2C3 */
			nexell,pin-pull = <2>;     /* 上拉 */
			nexell,pin-strength = <0>;
		};
	};
};

/* 修复网卡 */
&gmac0 {
    status = "okay";
    snps,phy-addr = <3>;
    mdio {
        #address-cells = <1>;
        #size-cells = <0>;
        ethernet_phy: ethernet-phy@3 {
            reg = <3>;
        };
    };
};

/* 修复引脚控制：注意这里使用别名 pinctrl0 */
&pinctrl0 {
    i2c3_pins: i2c3-pins {
        nexell,pins = "gpioc-15", "gpioc-16";
        nexell,pin-function = <1>;
        nexell,pin-pull = <2>;
    };
};
